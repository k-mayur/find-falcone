(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{40:function(e,t,n){e.exports=n(87)},67:function(e,t,n){},73:function(e,t,n){},84:function(e,t,n){},85:function(e,t,n){},86:function(e,t,n){},87:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),c=n(19),r=n.n(c),i=n(5),s=n(6),o=n(9),u=n(7),p=n(10),d=n(23),m=n(15),h=n(8),f=n(26),v=n.n(f),E="https://findfalcone.herokuapp.com",b={Accept:"application/json","Content-Type":"application/json"},y={get:function(e){return v.a.get(E+e,null,{headers:b}).catch(function(e){return console.log(e)})},post:function(e,t){return v.a.post(E+e,t,{headers:b}).catch(function(e){return console.log(e)})}},O=n(38),g=n(11),j=function(e,t){return Object(g.a)({},e,t,{loading:!1})},N={planets:[],result:{},redirect:!1,loding:!1,token:null},S=function(e,t){return Object(g.a)({},e,{result:t,redirect:!0,loading:!1})},T={vehicles:[],updatedVehicles:[],selectedPlanets:[],selectedVehicles:[],time:0,numPlanetsAllowed:4},k=function(e,t){var n=e.selectedVehicles,a=t.planetName,l=t.planetNumber,c=t.planets,r=Object.assign({},e.selectedPlanets);""===a&&delete n[l-1],r[l-1]=a;var i=V(e,r,n,c);return Object(g.a)({},e,{selectedPlanets:r,time:i.timeTaken,updatedVehicles:i.updatedVehicles,selectedVehicles:n})},P=function(e,t){var n=e.selectedPlanets,a=t.vehicleName,l=t.planetNumber,c=t.planets,r=Object.assign({},e.selectedVehicles);r[l-1]=a;var i=V(e,n,r,c);return Object(g.a)({},e,{selectedVehicles:r,time:i.timeTaken,updatedVehicles:i.updatedVehicles})},V=function(e,t,n,a){for(var l=Object.assign({},e),c=0,r=function(e){if(""!==t[e]&&t[e]&&n[e]){var r=a.find(function(n){return n.name===t[e]}).distance,i=l.vehicles.find(function(t){return t.name===n[e]}).speed;c+=r/i}},i=0;i<l.numPlanetsAllowed;i++)r(i);var s=l.vehicles.map(function(e){return Object.assign({},e)}).map(function(e){if(Object.values(n).includes(e.name)){var t=Object.values(n).filter(function(t){return t===e.name}).length;e.total_no-=t}return e});return{timeTaken:c,updatedVehicles:s}},w=n(17),A=Object(w.c)({planet:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_PLANETS":return j(e,{planets:t.payload});case"FIND_RESULT":return S(e,t.payload);case"SET_TOKEN":return Object(g.a)({},e,{token:t.payload});case"RESET_REDIRECT":return Object(g.a)({},e,{redirect:!1});case"RESET":return Object(g.a)({},e,{result:{},redirect:!1});case"LOADING":return Object(g.a)({},e,{loading:!0});default:return e}},vehicle:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_VEHICLES":return j(e,{vehicles:t.payload,updatedVehicles:t.payload});case"UPDATE_PLANETS":return k(e,t.payload);case"UPDATE_VEHICLES":return P(e,t.payload);case"RESET":return Object(g.a)({},e,{updatedVehicles:e.vehicles,time:0,selectedPlanets:[],selectedVehicles:[]});default:return e}}}),_=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||w.d,C=Object(w.e)(A,_(Object(w.a)(O.a))),D=function(){return function(e){e({type:"RESET"})}},H=(n(67),function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"header"},l.a.createElement("div",{className:"header-text"},l.a.createElement("h2",null,"Finding ",this.props.name)),l.a.createElement("div",{className:"header-btn"},l.a.createElement(d.b,{to:"/"},l.a.createElement("button",{"data-test":"homeBtn",className:"btn",onClick:this.props.resetHandler},"Home"))))}}]),t}(l.a.Component)),R=Object(h.b)(null,{resetHandler:D})(Object(m.e)(H)),L=(n(73),function(e){return l.a.createElement("div",{className:"footer"},l.a.createElement("h4",null,"Coding problem"," ",l.a.createElement("a",{"data-test":"footerLink",href:"https://www.geektrust.in/"},"geektrust.in/finding-falcone")," "))}),I=function(e){return l.a.createElement("div",{style:{textAlign:"center",fontSize:"2em",fontWeight:"bold"}},"Invalid Address : URL doesn't Exist.")},F=n(16),U=n.n(F),x=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(n=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).updateSelectedVehicles=function(e,t){var a=e.target.value,c=n.props,r=c.planet,i=c.vehicle;return i.updatedVehicles.find(function(e){return e.name===a}).total_no<=0?(e.preventDefault(),U()(l.a.createElement("div",null,l.a.createElement("h1",null,"Vehicle not Available!"),l.a.createElement("p",null,"Please select another vehicle.")))):r.planets.find(function(e){return e.name===i.selectedPlanets[t-1]}).distance>i.vehicles.find(function(e){return e.name===a}).max_distance?(e.preventDefault(),U()(l.a.createElement("div",null,l.a.createElement("h1",null,"Vehicle not Reachable!"),l.a.createElement("p",null,"Please select another vehicle.")))):void(void 0!==a&&n.props.updateSelectedVehicles(a,t))},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e,t,n=this,a=this.props.vehicle,c=a.updatedVehicles,r=a.selectedPlanets,i=this.props.planetNumber,s=r[i-1];""!==s&&s?e={}:(e={display:"none"},t=!1);var o=c.map(function(e,a){var c=e.name;return l.a.createElement("span",{key:a},l.a.createElement("input",{type:"radio",name:i,value:c,id:c+i,checked:t,onClick:function(e){return n.updateSelectedVehicles(e,i)}}),l.a.createElement("label",{htmlFor:c+i},c+" ("+e.total_no+")"))});return l.a.createElement("div",{className:"planet-vehicles",style:e},o)}}]),t}(l.a.Component),G=Object(h.b)(function(e){return{vehicle:e.vehicle,planet:e.planet}},{updateSelectedVehicles:function(e,t){return function(n){var a=C.getState().planet.planets;n({type:"UPDATE_VEHICLES",payload:{vehicleName:e,planetNumber:t,planets:a}})}}})(x),B=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(n=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).updateSelectedPlanets=function(e,t){var a=t.target.value,c=n.props.vehicle.selectedPlanets;if(""!==a&&Object.values(c).includes(a))return U()(l.a.createElement("div",null,l.a.createElement("h1",null,"Planet Already Selected!"),l.a.createElement("p",null,"Please select another planet.")));n.props.updateSelectedPlanets(a,e)},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){for(var e=this,t=this.props.planet.planets,n=this.props.vehicle.selectedPlanets,a=t.map(function(e,t){return l.a.createElement("option",{key:t,value:e.name},e.name)}),c=[],r=function(t){var r=t+1;c.push(l.a.createElement("div",{key:t,className:"planet-wrap"},l.a.createElement("select",{className:"planet-dropdown",onChange:function(t){return e.updateSelectedPlanets(r,t)},value:n[t]?n[t]:""},l.a.createElement("option",{value:""},"select planet ",r),a),l.a.createElement("div",null),l.a.createElement(G,{planetNumber:r})))},i=0;i<this.props.vehicle.numPlanetsAllowed;i++)r(i);return l.a.createElement("div",{className:"planets-wrap"},c)}}]),t}(l.a.Component),K=Object(h.b)(function(e){return{vehicle:e.vehicle,planet:e.planet}},{updateSelectedPlanets:function(e,t){return function(n){var a=C.getState().planet.planets;n({type:"UPDATE_PLANETS",payload:{planetName:e,planetNumber:t,planets:a}})}}})(B),M=(n(84),function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(n=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).findHandle=function(e){e.preventDefault();for(var t=n.props.vehicle,a=t.selectedPlanets,c=t.selectedVehicles,r=0;r<n.props.vehicle.numPlanetsAllowed;r++)if(!a[r]||""===a[r]||!c[r])return U()(l.a.createElement("div",null,l.a.createElement("h1",null,"Inputs Missing!"),l.a.createElement("p",null,"Please enter all valid inputs.")));var i=Object.values(a),s=Object.values(c);n.props.loading(),n.props.findHandler(i,s)},n.getData=function(){n.props.getPlanets(),n.props.getVehicles(),n.props.setToken()},n.componentDidMount=function(){n.props.loading(),n.getData()},n.componentDidUpdate=function(){!0===n.props.planet.redirect&&n.props.history.push("/result")},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.vehicle.time;return this.props.planet.loading?l.a.createElement("div",null,l.a.createElement("div",{className:"loader"},"Loading...")):l.a.createElement("div",{className:"home"},l.a.createElement("div",{className:"home-options"},l.a.createElement("h4",{style:{textAlign:"center"}},"Select planets you want to search in :"),l.a.createElement("form",{className:"home-form","data-test":"findForm",onSubmit:this.findHandle},l.a.createElement(K,null),l.a.createElement("button",{className:"btn",type:"submit",style:{alignSelf:"center",margin:"30px"}},"Find Falcone")),l.a.createElement("button",{"data-test":"resetBtn",className:"btn pos-abs",onClick:this.props.resetHandler},"Reset")),l.a.createElement("div",{className:"home-time"},l.a.createElement("h4",null,"Time taken : ",l.a.createElement("span",{style:{color:"darkred"}},e)," ")))}}]),t}(l.a.Component)),J=Object(h.b)(function(e){return{vehicle:e.vehicle,planet:e.planet}},{findHandler:function(e,t){return function(n){var a={token:C.getState().planet.token,planet_names:e,vehicle_names:t};y.post("/find",a).then(function(e){n({type:"FIND_RESULT",payload:e.data})})}},getPlanets:function(){return function(e){y.get("/planets").then(function(t){e({type:"GET_PLANETS",payload:t.data})})}},getVehicles:function(){return function(e){y.get("/vehicles").then(function(t){e({type:"GET_VEHICLES",payload:t.data})})}},resetHandler:D,loading:function(){return function(e){e({type:"LOADING"})}},setToken:function(){return function(e){y.post("/token",null).then(function(t){e({type:"SET_TOKEN",payload:t.data.token})})}}})(M),W=(n(85),function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return(n=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).tryAgainHandler=function(){n.props.history.push("/"),n.props.resetHandler()},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentWillUnmount",value:function(){this.props.resetRedirect()}},{key:"render",value:function(){var e="Falcone was not found on any of the planet you selected.",t="She could be anywhere on the remaining planet.";return"success"===this.props.planet.result.status&&(e="Congratulations! You found Falcone. King Shan is mighty pleased.",t="She was hiding on ".concat(this.props.planet.result.planet_name,".")),l.a.createElement("div",{className:"result"},l.a.createElement("h3",null,e),l.a.createElement("p",null,t),l.a.createElement("p",null,"Time taken : ",this.props.vehicle.time),l.a.createElement("button",{className:"btn",onClick:this.tryAgainHandler},"Try Again"))}}]),t}(l.a.Component)),X=Object(h.b)(function(e){return{vehicle:e.vehicle,planet:e.planet}},{resetRedirect:function(){return function(e){e({type:"RESET_REDIRECT"})}},resetHandler:D})(W),z=(n(86),function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return(n=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={name:"Falcone"},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"App"},l.a.createElement(d.a,null,l.a.createElement(R,{name:this.state.name}),l.a.createElement(m.c,null,l.a.createElement(m.a,{path:"/",component:J,exact:!0}),l.a.createElement(m.a,{path:"/result",component:X,exact:!0}),l.a.createElement(m.a,{component:I})),l.a.createElement(L,null)))}}]),t}(l.a.Component));r.a.render(l.a.createElement(h.a,{store:C},l.a.createElement(z,null)),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.7091716c.chunk.js.map